<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="//402-ALY-118.mktoweb.com/js/forms2/js/forms2.min.js"></script>
    <form id="mktoForm_1348"></form>

    <script>
      const API_BASE = 'https://aem-publish.dev.ie.edu/graphql/execute.json/global';
      const timestamp = new Date().getTime();

      MktoForms2.loadForm('//402-ALY-118.mktoweb.com', '402-ALY-118', 1348, function (form) {
        const THANK_YOU_PAGE = `/content/ieprogram/us/en/corporate/typ/stage1/interested-in.html`;

        MktoForms2.whenReady(function (form) {
          getProvinces(); // Fetch and load countries and provinces and control visibility of provinces field
        });

        form.onSuccess(function (values, _) {
          // Data mapping for URL parameters according to form type.
          const params = {
            country: values.ie_countryid,
            province: values.ie_provinceregionid,
            gender: values.ie_genderidentity,
            interestedIn: values.ie_interestedin,
            pathwayId: values.ie_pathwayid,
            stakeholderRole: values.ie_stakeholdersroleid,
          };

          redirectToThankYouPage(params, THANK_YOU_PAGE);
          return false;
        });
      });
    </script>
  </body>
</html>
