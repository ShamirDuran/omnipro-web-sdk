<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      .hidden {
        display: none;
      }

      .visible {
        display: block;
      }

      #programs-list {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 10px;
      }

      .card {
        display: flex;
        flex-direction: row;
        align-items: center;
        flex: 1 1 calc(20% - 10px);
        min-width: 0;
        max-width: calc(20% - 10px);
        border: 1px solid #000;
        border-radius: 5px;
        overflow: hidden;
        gap: 10px;
      }

      .card > div:nth-child(1) {
        display: flex;
        flex: 1;
        min-width: 0;
      }

      .card > div:nth-child(2) {
        display: flex;
        flex-direction: column;
        flex: 2;
        height: 100%;
        padding: 10px 10px 10px 0px;
      }

      .card img {
        width: 100%;
        height: auto;
        object-fit: cover;
        border-radius: 5px;
      }

      .card button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 5px 10px;
        width: 100%;
        border-radius: 5px;
        cursor: pointer;
      }

      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .backdrop {
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1001;
      }

      .modal > div:nth-child(3) {
        position: relative;
        z-index: 1002;
        background: #fff;
        border-radius: 8px;
        padding: 32px 24px;
        box-shadow: 0 4px 32px rgba(0, 0, 0, 0.2);
        min-width: 320px;
        max-width: 90vw;
      }

      .close-modal {
        position: absolute;
        top: 24px;
        right: 32px;
        z-index: 10000;
        background: #fff;
        border: none;
        color: #333;
        font-size: 1.5rem;
        font-weight: bold;
        cursor: pointer;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: background 0.2s;
      }

      .close-modal:hover {
        background: #f0f0f0;
      }
    </style>
  </head>

  <body>
    <div class="main">
      <div>
        <h3>Programs</h3>
        <div id="programs-list"></div>
      </div>

      <script src="//402-ALY-118.mktoweb.com/js/forms2/js/forms2.min.js"></script>

      <script>
        MktoForms2.loadForm(
          "//402-ALY-118.mktoweb.com",
          "402-ALY-118",
          1002,
          function (form) {
            form.onSubmit(function (event) {
              if (event && typeof event.preventDefault === "function") {
                event.preventDefault();
              }
              adobeDataLayer.push({
                event: "formSubmissionTest",
                formName: "Download Brochure",
                formId: "1002",
              });

              localStorage.setItem("formSubmitted", "true");
              return false;
            });

            form.onSuccess(function (values, followUpUrl) {
              localStorage.setItem("formSuccess", "true");
              window.location.href = "https://www.google.com";
              return false;
            });
          }
        );
      </script>
    </div>

    <script>
      const programs = [
        {
          image:
            "https://www.svgrepo.com/show/508699/landscape-placeholder.svg",
          id: "1000",
          name: "Master in Business Analytics and Big Data",
        },
        {
          image:
            "https://www.svgrepo.com/show/508699/landscape-placeholder.svg",
          id: "1001",
          name: "Master in Digital Marketing",
        },
        {
          image:
            "https://www.svgrepo.com/show/508699/landscape-placeholder.svg",
          id: "1002",
          name: "Master in Finance",
        },
        {
          image:
            "https://www.svgrepo.com/show/508699/landscape-placeholder.svg",
          id: "1003",
          name: "Master in International Relations",
        },
        {
          image:
            "https://www.svgrepo.com/show/508699/landscape-placeholder.svg",
          id: "1004",
          name: "Master in Computer Science",
        },
        {
          image:
            "https://www.svgrepo.com/show/508699/landscape-placeholder.svg",
          id: "1005",
          name: "Master in Artificial Intelligence",
        },
      ];

      function handleButtonClick(event) {
        if (event.target.tagName === "BUTTON") {
          const modal = document.querySelector(".modal");
          modal.classList.remove("hidden");
          modal.classList.add("visible");
        }
      }

      function renderPrograms(programs) {
        const list = document.getElementById("programs-list");
        list.innerHTML = programs
          .map(
            (p) => `
        <div class="card">
          <div><img src="${p.image}" alt="${p.name}"></div>
          <div>
        <div><strong>${p.name}</strong></div>
        <div>ID: ${p.id}</div>
        <div style="flex:1"></div>
        <button onclick="handleButtonClick(event)">Download Brochure</button>
          </div>
        </div>
          `
          )
          .join("");
      }

      document.addEventListener("DOMContentLoaded", function () {
        renderPrograms(programs);

        document
          .querySelector(".close-modal")
          .addEventListener("click", function () {
            const modal = document.querySelector(".modal");
            modal.classList.remove("visible");
            modal.classList.add("hidden");
          });
      });
    </script>
  </body>
</html>
