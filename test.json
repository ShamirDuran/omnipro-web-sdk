{
  "event": {
    //change it to "userProfile"
    "xdm": {
      // we don't need this wrapping object. Remove it
      "_id": "{{$uuid}}", // Let's move it to header with name correlation-id. This is not driving the business logic.
      "timestamp": "{{$isoTimestamp}}", // Let's move it to header. This is not driving the business logic.
      "eventType": "decisioning.propositionFetch", //can this be part of URI?
      "identityMap": {
        // Identities- Remove the keyword Map as json depicting collection.
        "ECID": [
          //make it lower case : ecid. If it's for a single user. Do we need collection?
          {
            "id": "{{ECID}}",
            "primary": false
          }
        ],
        "PublicGUID": [
          // make it camelCase : publicGuid. If it's for a single user. Do we need collection?
          {
            "id": "{{PUBLIC_GUID}}",
            "primary": true // provider should be treating appropriate user digital id as primary. Consumer shouldn't pass primary or secondary flag.
          }
        ],
        "prodProfileID": [
          // can this be changed to productProfileID
          {
            "id": "{{PUBLIC_GUID}}",
            "primary": true // provider should be treating appropriate user digital id as primary. Consumer shouldn't pass primary or secondary flag.
          }
        ],
        "custXRefId": [
          //If it's for a single user. Do we need collection?
          {
            "id": "{{XREF}}",
            "primary": false // provider should be treating appropriate user digital id as primary. Consumer shouldn't pass primary or secondary flag.
          }
        ]
      },
      "_americanexpress": {
        // remove underscore.
        "identities": {
          //can it be changed to "products"
          "ecid": "{{ECID}}" //If it's for a single user. Do we need collection?
        },
        "amexCardProducts": [
          // card
          {
            "cm13Tokenized": "FHCX1AO2QHV73RZ" // can this be changed to productProfileID.
          },
          {
            "cm13Tokenized": "XYCX1AO2QHV73AB" // can this be changed to productProfileID.
          },
          {
            "cm13Tokenized": "UVWAO2QHV73RZIU" // can this be changed to productProfileID.
          }
        ],
        "amexBankProducts": [
          //bank
          {
            "accountNumberTokenized": "W9owjkiQb8Mvfqg58AbCov90Rg2GpDFshd8I4u-lbw0"
          },
          {
            "accountNumberTokenized": "W9owjkiQb8Mvfqg58AbCov90Rg2GpDFshd8I4u-lbw0"
          },
          {
            "accountNumberTokenized": "W9owjkiQb8Mvfqg58AbCov90Rg2GpDFshd8I4u-lbw0"
          }
        ]
      }
    }
  },
  "query": {
    "personalization": {
      "schemas": [
        "https://ns.adobe.com/personalization/default-content-item",
        "https://ns.adobe.com/personalization/html-content-item",
        "https://ns.adobe.com/personalization/json-content-item",
        "https://ns.adobe.com/personalization/redirect-item",
        "https://ns.adobe.com/personalization/dom-action"
      ],
      "surfaces": ["web://americanexpress.com/overview#revenuetile"]
    }
  },
  "eligibility": {
    "rde": {
      "identifier_type": "CM15",
      "customer_identifier": "012343",
      "customer_fcra_eligible_indicator": true,
      "customer_total_annual_income": 200.5,
      "customer_nontaxable_income": 500.5,
      "customer_total_financial_assets": 500.5,
      "liability_level": "COMM",
      "plan_response": [
        {
          "identifier": "37XXXXXXXXXXX01",
          "product_details": [
            {
              "product_type_code": "PLAN",
              "product_business_unit_code": "OPEN",
              "product_details_code": "DAY",
              "product_name": "PLAN_CPS_DAY",
              "segment_type": "NPSL",
              "plan_assessment_amount": 200.99,
              "payment_directive": "UPFRONT",
              "eligibility_assessment": {
                "decision": "APR",
                "decision_reason_code": "AA"
              },
              "plan_assessment": [
                {
                  "term_factor": 12,
                  "number_of_payments": 24,
                  "apr_factor": 3.99,
                  "rate_factor": 2.99,
                  "lowest_term": true,
                  "highest_term": false,
                  "payment_reference_identifier": "P45",
                  "instant_loan_amount": 3000.0,
                  "loan_reason_code": "OPT",
                  "pricing_variable": "2"
                }
              ]
            }
          ]
        }
      ]
    }
  }
}
